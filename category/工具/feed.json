{
    "version": "https://jsonfeed.org/version/1",
    "title": "CodeVortex记事本 • All posts by \"工具\" category",
    "description": "滴答滴答滴答",
    "home_page_url": "https://zhang3399.github.io",
    "items": [
        {
            "id": "https://zhang3399.github.io/2025/05/22/Tool/2025-5-22-Docker/",
            "url": "https://zhang3399.github.io/2025/05/22/Tool/2025-5-22-Docker/",
            "title": "Docker",
            "date_published": "2025-05-22T02:00:00.000Z",
            "content_html": "<blockquote>\n<p>Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器或 Windows 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。</p>\n</blockquote>\n<h1 id=\"安装docker\"><a class=\"markdownIt-Anchor\" href=\"#安装docker\">#</a> 安装 Docker</h1>\n<p>安装包下载地址：<a href=\"https://docs.docker.com\">https://docs.docker.com</a><br>\n<strong>windows 安装</strong></p>\n<ol>\n<li>启用 WSL2. 安装 Docker Desktop<br>\n 以管理员身份运行 PowerShell，输入以下命令：<br>\n启用 WSL 功能：</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</pre></td></tr></table></figure><p>启用虚拟机平台：</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</pre></td></tr></table></figure><ol start=\"2\">\n<li>重启计算机</li>\n<li>更新 WSL 内核</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>wsl <span class=\"token parameter variable\">--update</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>设置 WSL2 为默认版本<br>\n以管理员身份运行 PowerShell，输入以下命令：</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>wsl --set-default-version <span class=\"token number\">2</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>安装 Docker<br>\n 双击下载的 Docker Desktop 安装包，按照提示进行安装。</li>\n<li>启动 Docker Desktop<br>\n 在开始菜单中找到 Docker Desktop，点击启动。</li>\n<li>验证安装<br>\n在 PowerShell 中输入以下命令，如果返回版本号，则表示安装成功：</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><p>使用命令 <code>docker version</code>  可以看到 <code>Client:</code>  和 <code>Server: </code> ，说明 Docker 已经安装成功，并启动，如果只有 <code>Client:</code> ，说明 Docker 没有启动，需要手动启动 Docker Desktop。</p>\n<h1 id=\"docker命令\"><a class=\"markdownIt-Anchor\" href=\"#docker命令\">#</a> Docker 命令</h1>\n<ol>\n<li>创建镜像</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> <span class=\"token operator\">&lt;</span>镜像名称<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Dockerfile所在路径<span class=\"token operator\">></span></pre></td></tr></table></figure><ol start=\"2\">\n<li>启动容器</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">-p</span> <span class=\"token operator\">&lt;</span>主机端口<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>容器端口<span class=\"token operator\">></span> <span class=\"token parameter variable\">--name</span> <span class=\"token operator\">&lt;</span>容器名称<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>镜像名称<span class=\"token operator\">></span></pre></td></tr></table></figure><ol start=\"3\">\n<li>查看容器</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>停止容器</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> stop <span class=\"token operator\">&lt;</span>容器名称<span class=\"token operator\">></span></pre></td></tr></table></figure><ol start=\"5\">\n<li>删除容器</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token operator\">&lt;</span>容器名称<span class=\"token operator\">></span></pre></td></tr></table></figure><ol start=\"6\">\n<li>查看镜像</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> images</pre></td></tr></table></figure><ol start=\"7\">\n<li>删除镜像</li>\n</ol>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> rmi <span class=\"token operator\">&lt;</span>镜像名称<span class=\"token operator\">></span></pre></td></tr></table></figure>",
            "tags": [
                "Docker"
            ]
        },
        {
            "id": "https://zhang3399.github.io/2025/03/12/Tool/2025-3-12-CMake%E4%BD%BF%E7%94%A8/",
            "url": "https://zhang3399.github.io/2025/03/12/Tool/2025-3-12-CMake%E4%BD%BF%E7%94%A8/",
            "title": "🚀 CMake项目构建",
            "date_published": "2025-03-12T07:26:00.000Z",
            "content_html": "<blockquote>\n<p>​<strong>编译环境</strong>：在 Wiondows 下，使用 VScode+WSL2+Ubuntu20.04+GCC 编译器</p>\n</blockquote>\n<hr>\n<h1 id=\"核心命令\"><a class=\"markdownIt-Anchor\" href=\"#核心命令\">#</a> 核心命令</h1>\n<h2 id=\"项目配置\"><a class=\"markdownIt-Anchor\" href=\"#项目配置\">#</a> 项目配置</h2>\n<ol>\n<li><strong> <code>cmake_minimum_required</code>   指定 <code>CMake</code>  的最小版本要求</strong></li>\n</ol>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">cmake_minimum_required</span><span class=\"token punctuation\">(</span><span class=\"token property\">VERSION</span> <span class=\"token number\">3.10</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong> <code>project</code>   定义项目名称，并可以指定项目使用的编程语言、web 主页地址、项目版本号等</strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">project</span><span class=\"token punctuation\">(</span>MyProject <span class=\"token property\">VERSION</span> <span class=\"token number\">1.0</span> LANGUAGES CXX<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong> <code>set</code>  设置变量</strong></li>\n</ol>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#方式 1 各源文件剪枝空格间隔，并赋值给 SOURCE（变量名任取，不要重复即可）变量</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token property\">SOURCES</span> main.cpp foo.cpp bar.cpp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#方式 2 各源文件 “；” 间隔</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token property\">SOURCES</span> main.cpp;foo.cpp;bar.cpp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 使用变量，采用 $&#123;&#125; 方式</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">add_executable</span><span class=\"token punctuation\">(</span>MyExecutable <span class=\"token punctuation\">$&#123;</span><span class=\"token property\">SOURCES</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>指定使用 <code>c++</code>  标准</strong></li>\n</ol>\n<p>命令行编译时使用 c++ 标准，通过 <code>-std=c++11</code>  格式指定</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>g++  <span class=\"token parameter variable\">-std</span><span class=\"token operator\">=</span>c++11 <span class=\"token parameter variable\">-o</span> demo main.cpp</pre></td></tr></table></figure><ol start=\"4\">\n<li><strong>通过 <code>set</code>  命令指定</strong></li>\n</ol>\n<p>CMake 文件指定 c++ 标准</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_CXX_STANDARD</span> <span class=\"token number\">11</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ol start=\"5\">\n<li><strong>通过 <code>project</code>  命令指定</strong></li>\n</ol>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">project</span><span class=\"token punctuation\">(</span>MyProject <span class=\"token property\">VERSION</span> <span class=\"token number\">1.0</span> LANGUAGES CXX <span class=\"token property\">CXX_STANDARD</span> <span class=\"token number\">11</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ol start=\"6\">\n<li><strong> <code>C++</code>  标准对应有宏 <code>-DCMAKE_CXX_STANDARD</code> ，通过 <code>cmake</code>  命令指定</strong></li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cmake <span class=\"token parameter variable\">-DCMAKE_CXX_STANDARD</span><span class=\"token operator\">=</span><span class=\"token number\">11</span> <span class=\"token punctuation\">..</span>  <span class=\"token comment\"># 注意，.. 表示上一级目录，指定到 CMakeLists.txt 所在的目录</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th>变量名</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CMAKE_SOURCE_DIR</td>\n<td><code>CMakeLists.txt</code>  所在的目录</td>\n</tr>\n<tr>\n<td>CMAKE_BINARY_DIR</td>\n<td>构建目录</td>\n</tr>\n<tr>\n<td>CMAKE_CURRENT_SOURCE_DIR</td>\n<td>当前 <code>CMakeLists.txt</code>  所在的目录</td>\n</tr>\n<tr>\n<td>CMAKE_CURRENT_BINARY_DIR</td>\n<td>当前构建目录</td>\n</tr>\n<tr>\n<td>CMAKE_CURRENT_LIST_DIR</td>\n<td>当前 <code>CMakeLists.txt</code>  所在的目录</td>\n</tr>\n<tr>\n<td>PROJECT_SOURCE_DIR</td>\n<td>表示项目根目录</td>\n</tr>\n<tr>\n<td>PROJECT_BINARY_DIR</td>\n<td>表示项目构建目录</td>\n</tr>\n<tr>\n<td>PROJECT_NAME</td>\n<td>表示项目名称</td>\n</tr>\n<tr>\n<td>CMAKE_CXX_STANDARD</td>\n<td>表示 C++ 标准</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"文件管理\"><a class=\"markdownIt-Anchor\" href=\"#文件管理\">#</a> 文件管理</h2>\n<ol>\n<li><strong>指定输出路径</strong></li>\n</ol>\n<p>在 CMake 中指定可执行程序输出的路径，也有对应的宏，叫做 <code>EXECUTABLE_OUTPUT_PATH</code> ，可通过 <code>set</code>  命令指定，例如：</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>HOME /home/zhang/Linux<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">EXECUTABLE_OUTPUT_PATH</span> <span class=\"token punctuation\">$&#123;</span>HOME<span class=\"token punctuation\">&#125;</span>/bin<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li>第一行：定义一个变量存储一个路径</li>\n<li>第二行：将拼接好的路径赋值给 <code>EXECUTABLE_OUTPUT_PATH</code>  变量</li>\n</ul>\n<ol start=\"2\">\n<li><strong>搜索文件</strong></li>\n</ol>\n<p><code>aux_source_group</code>  查找 <code>某路径</code> 下的 <code>所有源文件</code></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">aux_source_group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Source Files\"</span> variable<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li><code>Source Files</code> ：表示搜索的文件所在的目录名称</li>\n<li><code>variable</code> ：将 <code>Source Files</code>  目录下搜索到的源文件列表赋值给 <code>variable</code>  变量</li>\n</ul>\n<ol start=\"3\">\n<li><strong> <code>aux_source_group</code>  查找文件</strong></li>\n</ol>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># aux_source_group($&#123;PROJECT_SOURCE_DIR&#125;/src SRC_LIST)  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">aux_source_group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_CURRENT_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span>/src SRC_LIST<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li><code>PROJECT_SOURCE_DIR</code> ：表示项目根目录</li>\n<li><code>CMAKE_CURRENT_SOURCE_DIR</code> ：表示当前 <code>CMakeLists.txt</code>  所在的目录<br>\n搜索 <code>CMakeLists.txt</code>  所在的目录 <code>src</code>  下所有源文件，并将结果赋值给 <code>SRC_LIST</code>  变量。</li>\n</ul>\n<ol start=\"4\">\n<li><strong> <code>file</code>  查找文件</strong><br>\n使用 <code>file</code>  命令，查找某路径下的 <code>某格式文件</code></li>\n</ol>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">file</span><span class=\"token punctuation\">(</span>GLOB/GLOB_RECURSE 变量名 要搜索文件路径和文件类型<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li><code>GLOB</code> ：表示搜索指定目录下所有文件，将满足条件的文件列表赋值给变量</li>\n<li><code>GLOB_RECURSE</code> ：表示递归搜索指定目录下所有文件，将满足条件的文件列表赋值给变量</li>\n</ul>\n<ol start=\"5\">\n<li><strong>包含头文件</strong><br>\n在编译项目源文件时，需要将源文件对应的头文件包含进来，cmake 提供了 <code>include_directories</code>  命令，用于指定头文件的搜索路径：</li>\n</ol>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span>headpath<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><hr>\n<h1 id=\"构建控制\"><a class=\"markdownIt-Anchor\" href=\"#构建控制\">#</a> 构建控制</h1>\n<h2 id=\"编译选项\"><a class=\"markdownIt-Anchor\" href=\"#编译选项\">#</a> 编译选项</h2>\n<p>在 CMake 中，可以通过 <code>option</code>  命令来定义编译选项，例如：</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">option</span><span class=\"token punctuation\">(</span>USE_OPENMP <span class=\"token string\">\"Use OpenMP for parallelization\"</span> <span class=\"token boolean\">ON</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li><code>USE_OPENMP</code> ：表示编译选项的名称</li>\n<li><code>Use OpenMP for parallelization</code> ：表示编译选项的描述</li>\n</ul>\n<h2 id=\"链接控制\"><a class=\"markdownIt-Anchor\" href=\"#链接控制\">#</a> 链接控制</h2>\n<p>在 CMake 中，可以通过 <code>target_link_libraries</code>  命令来指定链接库，例如：</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>&lt;TARGET<span class=\"token punctuation\">></span>  <span class=\"token namespace\">PRIVATE</span> MyLibrary<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li><code>TARGET</code> ：需要链接库的目标</li>\n<li><code>PRIVATE</code> ：表示链接库的作用域，可以是 <code>PRIVATE</code> 、 <code>PUBLIC</code> 、 <code>INTERFACE</code>  之一</li>\n</ul>\n<hr>\n<h1 id=\"工程实践\"><a class=\"markdownIt-Anchor\" href=\"#工程实践\">#</a> 工程实践</h1>\n<h2 id=\"标准结构\"><a class=\"markdownIt-Anchor\" href=\"#标准结构\">#</a> 标准结构</h2>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># CMakeLists.txt</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">cmake_minimum_required</span><span class=\"token punctuation\">(</span><span class=\"token property\">VERSION</span> <span class=\"token number\">3.10</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">project</span><span class=\"token punctuation\">(</span>MyProject LANGUAGES CXX<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 添加源文件</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token property\">SOURCES</span> main.cpp foo.cpp bar.cpp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">add_executable</span><span class=\"token punctuation\">(</span>MyExecutable <span class=\"token punctuation\">$&#123;</span><span class=\"token property\">SOURCES</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># 添加头文件搜索路径</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span>/include<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 添加链接库</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>MyExecutable <span class=\"token namespace\">PRIVATE</span> MyLibrary<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"构建流程\"><a class=\"markdownIt-Anchor\" href=\"#构建流程\">#</a> 构建流程</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> build</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> build</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>cmake <span class=\"token punctuation\">..</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr></table></figure><hr>\n<h1 id=\"动静态库\"><a class=\"markdownIt-Anchor\" href=\"#动静态库\">#</a> 动静态库</h1>\n<h2 id=\"生成静态库\"><a class=\"markdownIt-Anchor\" href=\"#生成静态库\">#</a> 生成静态库</h2>\n<p><code>add_library</code>  命令用于创建库，其语法如下：</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 静态库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>MyLibrary <span class=\"token namespace\">STATIC</span> [源文件<span class=\"token number\">1</span>] [源文件<span class=\"token number\">2</span>]<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 动态库</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>MyLibrary <span class=\"token namespace\">SHARED</span>  [源文件<span class=\"token number\">1</span>] [源文件<span class=\"token number\">2</span>]<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>MyLibrary</code>  为生成 <code>动静态</code> 的 <code>库名</code> ，完整动静态文件名包含三部分： <code>lib</code> + <code>库名</code>  + <code>扩展名</code></p>\n<p><code>SHARED</code> ：表示生成动态库，动态库扩展名为 <code>.so</code> (Linux)、 <code>dll</code> (Windows)</p>\n<p><code>STATIC</code> ：表示生成静态库，静态库扩展名为 <code>.a</code> (Linux)、 <code>lib</code> (Windows)</p>\n<p><code>静态库</code> 默认不具有可执行权限，所以指定静态库路径的时候不可以使用 <code>EXECUTABLE_OUTPUT_PATH</code> ，而应该使用 <code>LIBRARY_OUTPUT_PATH</code> ，这个宏对于动态库和静态库都有效。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>类别</strong></th>\n<th style=\"text-align:center\"><strong>编译</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>静态库</strong></td>\n<td style=\"text-align:center\">编译时链接</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>动态库</strong></td>\n<td style=\"text-align:center\">运行时链接</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"使用动静态库\"><a class=\"markdownIt-Anchor\" href=\"#使用动静态库\">#</a> 使用动静态库</h2>\n<p>链接<strong>动静态</strong>库，需要使用 <code>link_libraries</code>  命令</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">link_libraries</span><span class=\"token punctuation\">(</span>&lt;static lib<span class=\"token punctuation\">></span> [&lt;static lib<span class=\"token punctuation\">></span>...]<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>参数1</code>  指定要链接静态库的名字，可以是文件全名，也可以是文件名（不带 <code>lib</code>  前缀和扩展名 <code>.a</code> ）<br>\n <code>参数2</code>  要链接的其他静态库的名字</p>\n<p>** 注意：** 如果该静态库不是系统提供的（自己制作或第三方提供静态库）可能出现找不到的情况，需要指定静态库的路径</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">link_directories</span><span class=\"token punctuation\">(</span>&lt;path<span class=\"token punctuation\">></span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>参数</code>  指定静态库的路径</p>\n<p><code>target_link_libraries</code>  用于将动态库链接到目标可执行文件（因此位于 <code>add_executable</code>  或 <code>add_library</code>  命令之后）</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>&lt;target<span class=\"token punctuation\">></span> [<span class=\"token namespace\">PRIVATE</span>|<span class=\"token namespace\">PUBLIC</span>|<span class=\"token namespace\">INTERFACE</span>] &lt;item<span class=\"token punctuation\">></span>...<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>&lt;target&gt;</code> ：表示目标可执行文件或库的名称<br>\n <code>[PRIVATE|PUBLIC|INTERFACE]</code> ：表示链接库的访问权限，默认为 <code>PUBLIC</code> , 可以是 <code>PRIVATE</code> 、 <code>PUBLIC</code> 、 <code>INTERFACE</code>  之一<br>\n <code>&lt;item&gt;</code> ：表示要链接的库的名称，可以是库的名称，也可以是库的路径</p>\n<p><code>动态库</code> ：具有传递性，即链接动态库的库，也会链接动态库所依赖的动态库，例如：如果 <code>动态库A</code>  链接 <code>动态库B、C</code> ， <code>动态库D</code>  链接 <code>动态库A</code> ，此时链接 <code>动态库D</code>  相当于链接了 <code>动态库B、C</code>  中定义的方法。</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>A B C<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>D A<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>权限</strong></th>\n<th style=\"text-align:center\"><strong>描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>PRIVATE</code></td>\n<td style=\"text-align:center\">private 后面的库仅被 link 前面的 target 中，并且终结掉，第三方库不能感知</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>PUBLIC</code></td>\n<td style=\"text-align:center\">public 后面的库会被 link 到前面的 target 中，并且里面的符号会被导出，提供给第三方</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>INTERFACE</code></td>\n<td style=\"text-align:center\">interface 后面引入的库不会被连接到前面的 target 中，只会导出符号</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h1 id=\"进阶技巧\"><a class=\"markdownIt-Anchor\" href=\"#进阶技巧\">#</a> 进阶技巧</h1>\n<h2 id=\"条件判断\"><a class=\"markdownIt-Anchor\" href=\"#条件判断\">#</a> 条件判断</h2>\n<p><strong> <code>if</code> </strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>EXISTS <span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span>/include<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span>/include<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">endif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong> <code>elseif</code> </strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>EXISTS <span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span>/include<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span>/include<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>foreach</code>  命令用于循环</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span>&lt;loop_var<span class=\"token punctuation\">></span> &lt;items<span class=\"token punctuation\">></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    &lt;commands<span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">endforeach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>&lt;loop_var&gt;</code> ：表示循环变量</p>\n<h2 id=\"日志\"><a class=\"markdownIt-Anchor\" href=\"#日志\">#</a> 日志</h2>\n<p><code>message</code>  命令用于输出日志信息，其语法如下：</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">message</span><span class=\"token punctuation\">(</span>&lt;mode<span class=\"token punctuation\">></span> <span class=\"token string\">\"message to display\"</span> ...<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>&lt;mode&gt;</code> ：表示输出信息的模式，可以是 <code>（空）</code> 、 <code>STATUS</code> 、 <code>WARNING</code> 、 <code>AUTHOR_WARNING</code> 、 <code>SEND_ERROR</code> 、 <code>FATAL_ERROR</code> 、 <code>DEPRECATION</code>  之一<br>\n <code>&quot;message to display&quot;</code> ：表示要输出的信息</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>模式</strong></th>\n<th style=\"text-align:center\"><strong>输出信息</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">(空)</td>\n<td style=\"text-align:center\">输出重要信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">STATUS</td>\n<td style=\"text-align:center\">输出普通信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">WARNING</td>\n<td style=\"text-align:center\">输出警告信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">AUTHOR_WARNING</td>\n<td style=\"text-align:center\">输出作者警告信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">SEND_ERROR</td>\n<td style=\"text-align:center\">输出错误信息，继续执行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">FATAL_ERROR</td>\n<td style=\"text-align:center\">输出错误信息，终止执行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">DEPRECATION</td>\n<td style=\"text-align:center\">输出弃用信息</td>\n</tr>\n</tbody>\n</table>\n<p>CMake 命令行工具会在 stdout 上显示 STATUS 消息，在 stderr 上显示其他消息。CMake GUI 工具会在消息窗口中显示所有消息。</p>\n<h2 id=\"变量操作\"><a class=\"markdownIt-Anchor\" href=\"#变量操作\">#</a> 变量操作</h2>\n<p>有时候项目源文件比较多并且不再同一目录下，这些源文件需要一起编译生成可执行文件，我们可以通过 <code>file</code>  命令对各自目录下的源文件进行搜索，最后还需要做一个字符串拼接操作，关于字符串拼接可以使用 <code>set</code>  命令也可以使用 <code>list</code>  命令。</p>\n<p><strong> <code>set</code>  命令</strong><br>\n <code>set</code>  命令用于设置变量的值，其语法如下：</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 取出 $&#123;&#125; 中变量的字符串 ---> 拼接字符串 ---> 赋值给变量</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>&lt;变量名<span class=\"token punctuation\">></span> <span class=\"token punctuation\">$&#123;</span>变量名<span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">$&#123;</span>变量名<span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span>... <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 将 string1 string2... 的字符串拼接 ---> 赋值给变量</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>&lt;变量名<span class=\"token punctuation\">></span> string1 string2... <span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>set 实际是字符串拼接，该命令是将 <code>变量名1</code> 、 <code>变量名2</code> … 的值进行拼接并赋值给 <code>变量名</code> ，如果 <code>变量名</code> 已经存在，则覆盖其值，如果 <code>变量名</code> 不存在，则创建该变量。</p>\n<p><strong> <code>list</code>  命令</strong></p>\n<p><strong>字符串拼接</strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">list</span><span class=\"token punctuation\">(</span>APPEND &lt;list<span class=\"token punctuation\">></span> [args...]<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>APPEND</code> ：将 <code>args</code>  字符串依次添加到 <code>list</code>  的末尾， <code>APPEND</code>  之后写法与 <code>set</code>  一致，与 <code>set</code>  命令不同的是， <code>list</code>  命令不会覆盖 <code>list</code>  的值，而是将 <code>args</code>  字符串依次添加到 <code>list</code>  的末尾。</p>\n<p><strong>字符串移除</strong><br>\n当通过 <code>file</code>  查找某个目录下的所有源文件时，其中有些使我们不需要的，例如下面的 main.cpp</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ tree</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>├── add.cpp</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>├── div.cpp</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>├── main.cpp</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>├── mult.cpp</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>└── sub.cpp</pre></td></tr></table></figure><p>其中 <code>main</code>  是测试文件，如果我们想把计算器相关的源文件生成动态库给别人使用，只需要 <code>add.cpp</code> 、 <code>div.cpp</code> 、 <code>mult.cpp</code> 、 <code>sub.cpp</code>  这四个文件，那么我们可以通过 <code>list</code>  命令将 <code>main.cpp</code>  移除。</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">list</span><span class=\"token punctuation\">(</span>REMOVE_ITEM &lt;list<span class=\"token punctuation\">></span> [value...]<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>REMOVE_ITEM</code> ：将 <code>list</code>  中所有 <code>value</code>  字符串移除。</p>\n<p><strong>字符串查找</strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">list</span><span class=\"token punctuation\">(</span>FIND &lt;list<span class=\"token punctuation\">></span> &lt;value<span class=\"token punctuation\">></span> &lt;variable<span class=\"token punctuation\">></span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>FIND</code> ：在 <code>list</code>  中查找 <code>value</code>  字符串，如果找到，则将 <code>value</code>  字符串在 <code>list</code>  中的索引赋值给 <code>variable</code> ，如果未找到，则将 <code>-1</code>  赋值给 <code>variable</code> 。</p>\n<p><strong>字符串替换</strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">list</span><span class=\"token punctuation\">(</span>REPLACE &lt;list<span class=\"token punctuation\">></span> &lt;value<span class=\"token punctuation\">></span> &lt;newvalue<span class=\"token punctuation\">></span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>REPLACE</code> ：将 <code>list</code>  中所有 <code>value</code>  字符串替换为 <code>newvalue</code>  字符串。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>命令</strong></th>\n<th style=\"text-align:center\"><strong>描述</strong></th>\n<th style=\"text-align:center\"><strong>使用示例</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">APPEND</td>\n<td style=\"text-align:center\">将 args 添加到列表的末尾</td>\n<td style=\"text-align:center\"><code>list(APPEND &lt;list&gt; [args...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">APPEND_STRING</td>\n<td style=\"text-align:center\">将 args 添加到列表的末尾</td>\n<td style=\"text-align:center\"><code>list(APPEND_STRING &lt;list&gt; [args...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">APPEND_UNIQUE</td>\n<td style=\"text-align:center\">将 args 添加到列表的末尾，如果 args 已经存在，则不添加</td>\n<td style=\"text-align:center\"><code>list(APPEND_UNIQUE &lt;list&gt; [args...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CLEAR</td>\n<td style=\"text-align:center\">清除列表</td>\n<td style=\"text-align:center\"><code>list(CLEAR &lt;list&gt;)</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">GET</td>\n<td style=\"text-align:center\">获取列表中的元素</td>\n<td style=\"text-align:center\"><code>list(GET &lt;list&gt; [&lt;index&gt;...]  [&lt;output variable&gt;...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">INSERT</td>\n<td style=\"text-align:center\">在 <code>列表</code> 中的 <code>某一位置</code> 插入 (<em>索引前插入</em>) <code>元素</code> 得到 <code>新字符串</code></td>\n<td style=\"text-align:center\"><code>list(INSERT &lt;list&gt; &lt;index&gt; [&lt;index&gt;...] [&lt;output variable&gt;...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">LENGTH</td>\n<td style=\"text-align:center\">获取列表的长度并赋值给 <code>变量</code></td>\n<td style=\"text-align:center\"><code>list(LENGTH &lt;list&gt; &lt;variable&gt;)</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">POP_BACK</td>\n<td style=\"text-align:center\">删除 <code>列表</code> 中的最后一个元素获取 <code>新字符串</code></td>\n<td style=\"text-align:center\"><code>list(POP_BACK &lt;list&gt; [&lt;output variable&gt;...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">POP_FRONT</td>\n<td style=\"text-align:center\">删除 <code>列表</code> 中的第一个元素获取 <code>新字符串</code></td>\n<td style=\"text-align:center\"><code>list(POP_FRONT &lt;list&gt; [&lt;output variable&gt;...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">PREPEND</td>\n<td style=\"text-align:center\">将 args 添加到列表的开头</td>\n<td style=\"text-align:center\"><code>list(PREPEND &lt;list&gt; [args...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">REMOVE_AT</td>\n<td style=\"text-align:center\">删除 <code>列表</code> 中的 <code>某一位置</code> 的元素获取 <code>新字符串</code></td>\n<td style=\"text-align:center\"><code>list(REMOVE_AT &lt;list&gt; [&lt;index&gt;...] [&lt;output variable&gt;...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">REMOVE_ITEM</td>\n<td style=\"text-align:center\">删除 <code>列表</code> 中所有 <code>value</code>  字符串</td>\n<td style=\"text-align:center\"><code>list(REMOVE_ITEM &lt;list&gt; [value...])</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">REMOVE_DUPLICATES</td>\n<td style=\"text-align:center\">删除 <code>列表</code> 中重复的元素</td>\n<td style=\"text-align:center\"><code>list(REMOVE_DUPLICATES &lt;list&gt;)</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">JOIN</td>\n<td style=\"text-align:center\">将 <code>列表</code> 中的元素用 <code>连接符</code> 连接成一个 <code>新字符串</code></td>\n<td style=\"text-align:center\"><code>list(JOIN &lt;list&gt; &lt;glue&gt; &lt;output variable&gt;)</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">REVERSE</td>\n<td style=\"text-align:center\">将 <code>列表</code> 中的元素反转</td>\n<td style=\"text-align:center\"><code>list(REVERSE &lt;list&gt;)</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">SORT</td>\n<td style=\"text-align:center\">将 <code>列表</code> 中的元素排序</td>\n<td style=\"text-align:center\"><code>list(SORT &lt;list&gt;)</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"宏定义\"><a class=\"markdownIt-Anchor\" href=\"#宏定义\">#</a> 宏定义</h2>\n<p>在程序测试中，我们经常需要定义一些宏，例如 <code>DEBUG</code> ，通过这些宏来控制程序是否打印调试信息</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">DEBUG</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">ifdef</span> <span class=\"token expression\">DEBUG</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      std<span class=\"token double-colon punctuation\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"debug n=\"</span> <span class=\"token operator\">&lt;&lt;</span> n <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token double-colon punctuation\">::</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>程序通过 <code>#ifdef DEBUG</code>  判断 <code>DEBUG</code>  是否被定义，如果被定义，则打印调试信息。如果没有被定义，则不打印调试信息，该端代码相当于被注释掉了，因此无法看到日志输出。</p>\n<p>为了使得 <code>c++</code>  测试更加方便，我们可以不在代码中定义宏，在 <code>g++/gcc</code>  命令中定义宏，例如</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>g++ <span class=\"token parameter variable\">-DDEBUG</span> main.cpp <span class=\"token parameter variable\">-o</span> main</pre></td></tr></table></figure><p><code>g++/gcc</code>  命令通过 <code>-D</code>  指定定义宏的名字，这样在代码中就可以使用 <code>DEBUG</code>  宏了。</p>\n<p><strong> <code>CMake</code>  中使用 <code>add_definitions</code>  定义宏</strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">add_definitions</span><span class=\"token punctuation\">(</span>-DDEBUG<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>add_definitions</code>  命令用于定义宏，其中 <code>-D</code>  是 <code>g++/gcc</code>  命令的参数， <code>DEBUG</code>  是宏的名字。</p>\n<h2 id=\"嵌套cmake\"><a class=\"markdownIt-Anchor\" href=\"#嵌套cmake\">#</a> 嵌套 CMake</h2>\n<p>在 Linux 的目录是树状结构，所以嵌套 CMake 也是树状结构，最顶层的 CMakeLists.txt 文件称为 <code>根节点</code> ，其他 CMakeLists.txt 文件称为 <code>子节点</code> 。需要了解关于 <code>CMakeLists.txt</code>  的几个信息：</p>\n<ul>\n<li>根节点的 <code>CMakeLists.txt</code>  中定义变量全局有效。</li>\n<li>父节点的 <code>CMakeLists.txt</code>  中定义的变量，子节点可以访问。</li>\n<li>子节点的 <code>CMakeLists.txt</code>  中定义的变量，父节点无法访问。</li>\n</ul>\n<p><strong>添加子目录</strong><br>\n CMake 中父子节点是如何建立的？</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">add_subdirectory</span><span class=\"token punctuation\">(</span>source_dir [binary_dir] [<span class=\"token property\">EXCLUDE_FROM_ALL</span>]<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>source_dir</code> : 子目录的路径，<br>\n <code>binary_dir</code> : 指定输出文件的路径，一般不需要指定，默认即可。<br>\n <code>EXCLUDE_FROM_ALL</code> : 在子路径下的目标默认不会被包含到父路径的 <code>ALL</code>  目标中，并且也会排除在 IDE 工程文件之外。用户必须显式构建在子路径下的目标。</p>\n<p><strong>获取父目录的路径</strong></p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">get_filename_component</span><span class=\"token punctuation\">(</span>PARENT_DIR <span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">CMAKE_CURRENT_SOURCE_DIR</span><span class=\"token punctuation\">&#125;</span> PATH<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>get_filename_component</code>  命令用于获取文件路径，其中 <code>PARENT_DIR</code>  是变量名， <code>$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</code>  是当前目录的路径， <code>PATH</code>  表示获取路径。</p>\n",
            "tags": [
                "CMake"
            ]
        },
        {
            "id": "https://zhang3399.github.io/2025/02/23/Tool/2025-2-23-git/",
            "url": "https://zhang3399.github.io/2025/02/23/Tool/2025-2-23-git/",
            "title": "git基本使用",
            "date_published": "2025-02-22T17:39:00.000Z",
            "content_html": "<h1 id=\"git基本使用\"><a class=\"markdownIt-Anchor\" href=\"#git基本使用\">#</a> git 基本使用</h1>\n<ol>\n<li>git clone 拉取仓库项目</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/xxx/xxx.git  <span class=\"token comment\">#拉取所有分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span>  <span class=\"token comment\">#查看所有分支</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> main  <span class=\"token comment\">#切换到 main 分支</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> pull origin main  <span class=\"token comment\">#拉取远程仓库 main 分支</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>git add 添加文件到暂存区（一般修改后执行）</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> filename  <span class=\"token comment\">#修改</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 或者添加所有文件</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>  <span class=\"token comment\">#</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>git commit 提交文件到本地仓库</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"提交信息\"</span>  <span class=\"token comment\">#补充修改日志信息</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>git push 推送文件到远程仓库</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push origin main  <span class=\"token comment\">#推送到远程仓库 main 分支</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>git pull 拉取远程仓库文件</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> pull origin main  <span class=\"token comment\">#拉取远程仓库 main 分支</span></pre></td></tr></table></figure><ol start=\"6\">\n<li>git status 查看当前状态</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> status  <span class=\"token comment\">#查看当前状态</span></pre></td></tr></table></figure><ol start=\"7\">\n<li>git branch 查看分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> branch  <span class=\"token comment\">#查看本地分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-r</span>  <span class=\"token comment\">#查看远程分支</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span>  <span class=\"token comment\">#查看所有分支</span></pre></td></tr></table></figure><ol start=\"8\">\n<li>git checkout 切换分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout main  <span class=\"token comment\">#切换到 main 分支</span></pre></td></tr></table></figure><ol start=\"9\">\n<li>git merge 合并分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> merge feature/new-dashboard  <span class=\"token comment\">#合并 feature/new-dashboard 分支到当前分支</span></pre></td></tr></table></figure><ol start=\"10\">\n<li>git branch -d 删除分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> feature/new-dashboard  <span class=\"token comment\">#删除 feature/new-dashboard 分支</span></pre></td></tr></table></figure><ol start=\"11\">\n<li>git log 查看提交记录</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> log  <span class=\"token comment\">#查看提交记录</span></pre></td></tr></table></figure><ol start=\"12\">\n<li>git reset 回退版本</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> HEAD^  <span class=\"token comment\">#回退到上一个版本</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> HEAD~100  <span class=\"token comment\">#回退到前 100 个版本</span></pre></td></tr></table></figure><h1 id=\"流程\"><a class=\"markdownIt-Anchor\" href=\"#流程\">#</a> 📌流程</h1>\n<ol>\n<li>克隆仓库并初始化</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 克隆仓库到本地（仅检出主分支）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/xxx/xxx.git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">cd</span> xxx</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 查看所有分支（包括远程分支）</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>创建并切换到功能分支<br>\n<strong>创建并切换到新分支（推荐命名格式：feature/xxx）</strong></li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> feature/new-dashboard</pre></td></tr></table></figure><p>分支命名建议\t示例<br>\n新功能\t <code>feature/payment-success</code> <br>\nBug 修复\t <code>bugfix/validate-input</code> <br>\n 紧急修复\t <code>hotfix/ssl-issue</code></p>\n<ol start=\"3\">\n<li>开发并提交代码</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 添加修改文件到暂存区</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#提交代码（遵循 Conventional Commits 规范）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"feat: add user dashboard\"</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>推送功能分支到远程仓库</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 绑定并推送分支（首次推送必须加 - u）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin feature/new-dashboard</pre></td></tr></table></figure><ol start=\"5\">\n<li>切回主分支并同步最新代码</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 切换到主分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> checkout main</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 拉取远程主分支更新</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> pull origin main</pre></td></tr></table></figure><ol start=\"6\">\n<li>合并功能分支到主分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 合并本地分支到主分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> merge feature/new-dashboard</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># ⚠️ 冲突处理：</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 手动编辑冲突文件后执行：</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> conflicted-file.txt</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Resolve merge conflicts\"</span></pre></td></tr></table></figure><ol start=\"7\">\n<li>提交合并后的主分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 推送主分支更新</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> push origin main</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">8</span>. 删除本地功能分支（可选）</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> feature/new-dashboard</pre></td></tr></table></figure><p><strong>🔐 关键细节与最佳实践</strong></p>\n<ol>\n<li>分支命名规范（必须遵守）<br>\n分支类型\t命名规则\t示例<br>\n新功能\t <code>feature/</code>  + 功能描述\t <code>feature/new-dashboard</code> <br>\nBug 修复\t <code>bugfix/</code>  + 问题 ID\t <code>bugfix/INPUT-123</code> <br>\n 紧急修复\t <code>hotfix/</code>  + 问题描述\t <code>hotfix/ssl-issue</code></li>\n<li>提交信息规范（必须遵守）<br>\n类型\t前缀\t示例<br>\n新增功能\t <code>feat:</code> \t <code>feat: add login button</code> <br>\n 修复 Bug\t <code>fix:</code> \t <code>fix: resolve auth bug</code> <br>\n 代码重构\t <code>refactor:</code>   <code>refactor/api-response</code></li>\n<li>拉取最新代码（推荐操作）</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 在功能分支开发时定期同步主分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> checkout feature/new-dashboard</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> pull origin main</pre></td></tr></table></figure><ol start=\"4\">\n<li>使用 Pull Request 流程（团队协作必备）<br>\n在  <code>GitHub</code>  创建  <code>PR</code> <br>\n 添加描述和关联  <code>Issue</code> <br>\n 等待  <code>Code Review</code>  和测试通过<br>\n合并到主分支后删除功能分支</li>\n</ol>\n<p><strong>🎯 流程图解</strong></p>\n<pre><code>+-----------------------------+        +-----------------------------+\n|        GitHub 主分支 (main)      |        |        GitHub 主分支 (main)      |\n+-----------------------------+        +-----------------------------+\n          ↓ (clone/pull)            ↗ (PR合并)          ↓ (clone/pull)\n+-----------------------------+        +-----------------------------+\n| 本地仓库 (main)              |        | 本地仓库 (main)              |\n+-----------------------------+        +-----------------------------+\n          ↓ (checkout -b)         ↗ (merge)          ↓ (checkout -b)\n+-----------------------------+        +-----------------------------+\n| 本地功能分支 (feature/new-dashboard) |      | 本地功能分支 (feature/new-dashboard) |\n+-----------------------------+        +-----------------------------+\n          ↓ (commit)             ↗ (push)          ↓ (commit)\n+-----------------------------+        +-----------------------------+\n| GitHub 功能分支              |        | GitHub 功能分支              |\n+-----------------------------+        +-----------------------------+\n</code></pre>\n<p>关键节点：克隆仓库、创建功能分支、合并到主分支、推送主分支<br>\n推荐路径：主流程（↓ → ↗ → ↓）｜合并路径（↗）<br>\n<strong>⚠️ 常见错误与解决方案</strong></p>\n<ol>\n<li>合并冲突</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 手动解决冲突后标记为已解决</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> conflicted-file.txt</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Resolve merge conflicts\"</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>忘记关联远程分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 推送时首次绑定远程分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin feature/new-dashboard</pre></td></tr></table></figure><ol start=\"3\">\n<li>主分支落后于远程</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 合并前必须拉取最新代码</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> pull origin main</pre></td></tr></table></figure><h1 id=\"回滚\"><a class=\"markdownIt-Anchor\" href=\"#回滚\">#</a> 回滚</h1>\n<p>Step 1 查看提交历史</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> log</pre></td></tr></table></figure><p>Step 2 切换到需要回滚的分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout main</pre></td></tr></table></figure><p>Step 3 回滚到指定提交</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> <span class=\"token operator\">&lt;</span>commit-hash<span class=\"token operator\">></span> <span class=\"token comment\"># 也可以 --hard HEAD^   回退上一版本，也可以用 HEAD~1   --hard HEAD^^ 回退上两个版本，也可以用 HEAD~2 表示</span></pre></td></tr></table></figure><p>Step 4 强制推送回滚后的代码到远程仓库</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-f</span> origin main</pre></td></tr></table></figure><h1 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 📝总结</h1>\n<p>核心原则：隔离开发、频繁同步、明确沟通<br>\n推荐工具： <code>GitHub PR</code> 、 <code>GitLab Merge Request</code> <br>\n 进阶学习： <code>Git Flow</code>  工作流、 <code>GitHub Actions</code> <br>\n 文档特点：</p>\n<p>通过加粗 / 列表 / 代码块实现逻辑分层<br>\n使用表格清晰展示规范要求<br>\n流程图解采用 <code>ASCII</code>  字符图形化关键路径<br>\n错误提示突出显示高频问题解决方案<br>\n <code>🔗</code>  相关链接<br>\n <code>Conventional Commits</code>  规范<br>\n <code>Git Flow</code>  工作流<br>\n <code>GitHub Actions</code>  自动化</p>\n<p>➕ <strong>Pull request</strong>  使用 (合并分支)</p>\n<p>Step 1 克隆仓库或更新本地仓库至最新代码</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> pull origin main         <span class=\"token comment\"># 从远程仓库的 main 分支拉取最新的代码</span></pre></td></tr></table></figure><p>Step 2 切换到拉取请求的目标分支（基础分支）</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout main   <span class=\"token comment\"># 切换到主分支（默认的基础分支）</span></pre></td></tr></table></figure><p>Step 3 将功能分支合并到基础分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> merge new-feature <span class=\"token comment\"># 将新功能分支（new-feature）合并到当前主分支</span></pre></td></tr></table></figure><p>Step 4 推送合并后的代码到远程仓库</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin main</pre></td></tr></table></figure><p><strong>补充：</strong><br>\n删除本地分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> new-feature</pre></td></tr></table></figure><p>删除远程分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push origin <span class=\"token parameter variable\">--delete</span> new-feature</pre></td></tr></table></figure><p><strong>补充：</strong><br>\n推荐练习 git 网站：<br>\n<a href=\"https://learngitbranching.js.org/?locale=en_US\">https://learngitbranching.js.org/?locale=en_US</a></p>\n",
            "tags": [
                "git"
            ]
        },
        {
            "id": "https://zhang3399.github.io/2024/01/01/Tool/2024-1-1-md%E5%9B%BE%E6%A0%87/",
            "url": "https://zhang3399.github.io/2024/01/01/Tool/2024-1-1-md%E5%9B%BE%E6%A0%87/",
            "title": "md图标",
            "date_published": "2024-01-01T02:00:00.000Z",
            "content_html": "<h1 id=\"图标\"><a class=\"markdownIt-Anchor\" href=\"#图标\">#</a> 图标</h1>\n<h2 id=\"字符图标\"><a class=\"markdownIt-Anchor\" href=\"#字符图标\">#</a> 字符图标</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">样式</th>\n<th style=\"text-align:center\">字符</th>\n<th style=\"text-align:center\">样式</th>\n<th style=\"text-align:center\">字符</th>\n<th style=\"text-align:center\">样式</th>\n<th style=\"text-align:center\">字符</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">©</td>\n<td style=\"text-align:center\"><code>&amp;copy</code></td>\n<td style=\"text-align:center\">®</td>\n<td style=\"text-align:center\"><code>&amp;reg</code></td>\n<td style=\"text-align:center\">™</td>\n<td style=\"text-align:center\"><code>&amp;trade</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">¥</td>\n<td style=\"text-align:center\"><code>&amp;yen</code></td>\n<td style=\"text-align:center\">£</td>\n<td style=\"text-align:center\"><code>&amp;pound</code></td>\n<td style=\"text-align:center\">€</td>\n<td style=\"text-align:center\"><code>&amp;euro</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">¢</td>\n<td style=\"text-align:center\"><code>&amp;cent</code></td>\n<td style=\"text-align:center\">£</td>\n<td style=\"text-align:center\"><code>&amp;iexcl</code></td>\n<td style=\"text-align:center\">¿</td>\n<td style=\"text-align:center\"><code>&amp;iquest</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">§</td>\n<td style=\"text-align:center\"><code>&amp;sect</code></td>\n<td style=\"text-align:center\">¶</td>\n<td style=\"text-align:center\"><code>&amp;para</code></td>\n<td style=\"text-align:center\">¡</td>\n<td style=\"text-align:center\"><code>&amp;iexcl</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"彩色图标\"><a class=\"markdownIt-Anchor\" href=\"#彩色图标\">#</a> 彩色图标</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">样式</th>\n<th style=\"text-align:center\">样式</th>\n<th style=\"text-align:center\">样式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">😀 😃 🥰 😍 😘</td>\n<td style=\"text-align:center\">😚 😋 😛 😝 😜</td>\n<td style=\"text-align:center\">😎 😏 😒 😞 😔</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">😟 😕 🙁 ☹️ 😣</td>\n<td style=\"text-align:center\">😖 😫 😩 😤 😠</td>\n<td style=\"text-align:center\">😡 😤 😈 👿</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">👹 👺 👻 👽 👾</td>\n<td style=\"text-align:center\">👿 💀 👽 👾 💩</td>\n<td style=\"text-align:center\">💋 💦 💧 💨 💦</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🌿 🍃 🌾 🍀 🍁 🍂 🍄</td>\n<td style=\"text-align:center\">🍇 🍈 🍉 🍊 🍋 🍌 🍍 🍎</td>\n<td style=\"text-align:center\">🍏 🍐 🍑 🍒 🍓 🍅 🍆</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🐋 🐬 🐶 🐱 🐭 🐹 🐰 🐻</td>\n<td style=\"text-align:center\">🐼 🐨 🐯 🦁 🐮 🐷 🐽 🐸</td>\n<td style=\"text-align:center\">🐵 🐴 🐔 🐧 🐦 🐣 🐤 🐥</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">❤️ ✨ ⭐  💔 💕 💖</td>\n<td style=\"text-align:center\">💝 💗 💘  💚 💛</td>\n<td style=\"text-align:center\">💞 💟 💡 💢 💣</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🛨 🛩 🛪</td>\n<td style=\"text-align:center\">🛫 🛬</td>\n<td style=\"text-align:center\">🛴 🛵 🛶</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">❎ ✅</td>\n<td style=\"text-align:center\">❌ ✓</td>\n<td style=\"text-align:center\">❗❓ ❕❔</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⛪ ⛺ ⛲ ⛵ 🚀</td>\n<td style=\"text-align:center\">🚁 🚂 🚃 🚄 🚅</td>\n<td style=\"text-align:center\">🚆 🚇 🚈 🚉 🚊</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🚋 🚌 🚍 🚎 🚏</td>\n<td style=\"text-align:center\">🚐 🚑 🚒 🚓 🚔</td>\n<td style=\"text-align:center\">🚕 🚖 🚗 🚘 🚙</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🚚 🚛 🚜 🚲 🚳</td>\n<td style=\"text-align:center\">🚴 🚵 🚶 🚷 🚸</td>\n<td style=\"text-align:center\">🚹 🚺 🚻 🚼 🚽</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🚾 🛀 🛁 🛂 🛃</td>\n<td style=\"text-align:center\">🛄 🛅 🛠 🛡 🛢</td>\n<td style=\"text-align:center\">🛣 🛤 🛥 🛦 🛧</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">❗ ❕ ❖</td>\n<td style=\"text-align:center\">❗ ❕ ❖</td>\n<td style=\"text-align:center\">❗ ❕ ❖</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">➕ ➖ ➗ ➘ ➙ ➚ ➛ ➜ ➝</td>\n<td style=\"text-align:center\">➞ ➟ ➠ ➡ ➢ ➣ ➤ ➥</td>\n<td style=\"text-align:center\">➦ ➧ ➨ ➩ ➪ ➫</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1️⃣ 2️⃣ 3️⃣ 4️⃣ 5️⃣ 6️⃣ 7️⃣ 8️⃣ 9️⃣ 0️⃣ 🔟</td>\n<td style=\"text-align:center\">🔡 🔠 🔞</td>\n<td style=\"text-align:center\">🔣 🔤 🔢</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🔦 🔧 🔨 🔩</td>\n<td style=\"text-align:center\">🔪 🔫 🔬 🔭</td>\n<td style=\"text-align:center\">🔮 🔯 🔰</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🔱 🔲 🔳 🔴</td>\n<td style=\"text-align:center\">🔵 🔶 🔷 🔸</td>\n<td style=\"text-align:center\">🔹 🔺 🔻</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">🔼 🔽 ⬆️ ⬇️</td>\n<td style=\"text-align:center\">⬅️ ⮕ ⬌ ⬍</td>\n<td style=\"text-align:center\">⬎ ⬏ ⬐ ⬑</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⚪ ⚫ ⬜ ⬛</td>\n<td style=\"text-align:center\">⬤ ⬣ ⬢ ⬡</td>\n<td style=\"text-align:center\">⬠ ⬡ ⬢ ⬣</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⚰ ⚱ ⚲ ⚳</td>\n<td style=\"text-align:center\">⚴ ⚵ ⚶ ⚷</td>\n<td style=\"text-align:center\">⚸ ⚹ ⚺ ⚻</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⚼ ⚽ ⚾ ⛀</td>\n<td style=\"text-align:center\">⛁ ⛂ ⛃ ⛄</td>\n<td style=\"text-align:center\">⛅ ⛆ ⛇ ⛈</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⛉ ⛊ ⛋ ⛌</td>\n<td style=\"text-align:center\">⛍ ⛎ ⛏ ⛐</td>\n<td style=\"text-align:center\">⛑ ⛒ ⛓ ⛔</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⛕ ⛖ ⛗ ⛘</td>\n<td style=\"text-align:center\">⛙ ⛚ ⛛ ⛜</td>\n<td style=\"text-align:center\">⛝ ⛞ ⛟ ⛠</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⛡ ⛢ ⛣ ⛤</td>\n<td style=\"text-align:center\">⛥ ⛦ ⛧ ⛨</td>\n<td style=\"text-align:center\">⛩ ⛪ ⛫ ⛬</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⛭ ⛮ ⛯ ⛰</td>\n<td style=\"text-align:center\">⛱ ⛲ ⛳ ⛴</td>\n<td style=\"text-align:center\">⛵ ⛶ ⛷ ⛸</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⛹ ⛺ ⛻ ⛼</td>\n<td style=\"text-align:center\">⛽ ⛾ ⛿ ⚀</td>\n<td style=\"text-align:center\">⚁ ⚂ ⚃ ⚄</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">⚅ ⚆ ⚇ ⚈</td>\n<td style=\"text-align:center\">⚉ ⚊ ⚋ ⚌</td>\n<td style=\"text-align:center\">⚍ ⚎ ⚏ ⚐</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "md图标"
            ]
        }
    ]
}