{
    "version": "https://jsonfeed.org/version/1",
    "title": "CodeVortex记事本 • All posts by \"git\" tag",
    "description": "滴答滴答滴答",
    "home_page_url": "https://zhang3399.github.io",
    "items": [
        {
            "id": "https://zhang3399.github.io/2025/02/23/Tool/2025-2-23-git/",
            "url": "https://zhang3399.github.io/2025/02/23/Tool/2025-2-23-git/",
            "title": "git基本使用",
            "date_published": "2025-02-22T17:39:00.000Z",
            "content_html": "<h1 id=\"git基本使用\"><a class=\"markdownIt-Anchor\" href=\"#git基本使用\">#</a> git 基本使用</h1>\n<ol>\n<li>git clone 拉取仓库项目</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/xxx/xxx.git  <span class=\"token comment\">#拉取所有分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span>  <span class=\"token comment\">#查看所有分支</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> main  <span class=\"token comment\">#切换到 main 分支</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> pull origin main  <span class=\"token comment\">#拉取远程仓库 main 分支</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>git add 添加文件到暂存区（一般修改后执行）</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> filename  <span class=\"token comment\">#修改</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 或者添加所有文件</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>  <span class=\"token comment\">#</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>git commit 提交文件到本地仓库</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"提交信息\"</span>  <span class=\"token comment\">#补充修改日志信息</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>git push 推送文件到远程仓库</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push origin main  <span class=\"token comment\">#推送到远程仓库 main 分支</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>git pull 拉取远程仓库文件</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> pull origin main  <span class=\"token comment\">#拉取远程仓库 main 分支</span></pre></td></tr></table></figure><ol start=\"6\">\n<li>git status 查看当前状态</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> status  <span class=\"token comment\">#查看当前状态</span></pre></td></tr></table></figure><ol start=\"7\">\n<li>git branch 查看分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> branch  <span class=\"token comment\">#查看本地分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-r</span>  <span class=\"token comment\">#查看远程分支</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span>  <span class=\"token comment\">#查看所有分支</span></pre></td></tr></table></figure><ol start=\"8\">\n<li>git checkout 切换分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout main  <span class=\"token comment\">#切换到 main 分支</span></pre></td></tr></table></figure><ol start=\"9\">\n<li>git merge 合并分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> merge feature/new-dashboard  <span class=\"token comment\">#合并 feature/new-dashboard 分支到当前分支</span></pre></td></tr></table></figure><ol start=\"10\">\n<li>git branch -d 删除分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> feature/new-dashboard  <span class=\"token comment\">#删除 feature/new-dashboard 分支</span></pre></td></tr></table></figure><ol start=\"11\">\n<li>git log 查看提交记录</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> log  <span class=\"token comment\">#查看提交记录</span></pre></td></tr></table></figure><ol start=\"12\">\n<li>git reset 回退版本</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> HEAD^  <span class=\"token comment\">#回退到上一个版本</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> HEAD~100  <span class=\"token comment\">#回退到前 100 个版本</span></pre></td></tr></table></figure><h1 id=\"流程\"><a class=\"markdownIt-Anchor\" href=\"#流程\">#</a> 📌流程</h1>\n<ol>\n<li>克隆仓库并初始化</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 克隆仓库到本地（仅检出主分支）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/xxx/xxx.git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">cd</span> xxx</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 查看所有分支（包括远程分支）</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>创建并切换到功能分支<br>\n<strong>创建并切换到新分支（推荐命名格式：feature/xxx）</strong></li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> feature/new-dashboard</pre></td></tr></table></figure><p>分支命名建议\t示例<br>\n新功能\t <code>feature/payment-success</code> <br>\nBug 修复\t <code>bugfix/validate-input</code> <br>\n 紧急修复\t <code>hotfix/ssl-issue</code></p>\n<ol start=\"3\">\n<li>开发并提交代码</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 添加修改文件到暂存区</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#提交代码（遵循 Conventional Commits 规范）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"feat: add user dashboard\"</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>推送功能分支到远程仓库</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 绑定并推送分支（首次推送必须加 - u）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin feature/new-dashboard</pre></td></tr></table></figure><ol start=\"5\">\n<li>切回主分支并同步最新代码</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 切换到主分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> checkout main</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 拉取远程主分支更新</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> pull origin main</pre></td></tr></table></figure><ol start=\"6\">\n<li>合并功能分支到主分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 合并本地分支到主分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> merge feature/new-dashboard</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># ⚠️ 冲突处理：</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 手动编辑冲突文件后执行：</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> conflicted-file.txt</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Resolve merge conflicts\"</span></pre></td></tr></table></figure><ol start=\"7\">\n<li>提交合并后的主分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 推送主分支更新</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> push origin main</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">8</span>. 删除本地功能分支（可选）</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> feature/new-dashboard</pre></td></tr></table></figure><p><strong>🔐 关键细节与最佳实践</strong></p>\n<ol>\n<li>分支命名规范（必须遵守）<br>\n分支类型\t命名规则\t示例<br>\n新功能\t <code>feature/</code>  + 功能描述\t <code>feature/new-dashboard</code> <br>\nBug 修复\t <code>bugfix/</code>  + 问题 ID\t <code>bugfix/INPUT-123</code> <br>\n 紧急修复\t <code>hotfix/</code>  + 问题描述\t <code>hotfix/ssl-issue</code></li>\n<li>提交信息规范（必须遵守）<br>\n类型\t前缀\t示例<br>\n新增功能\t <code>feat:</code> \t <code>feat: add login button</code> <br>\n 修复 Bug\t <code>fix:</code> \t <code>fix: resolve auth bug</code> <br>\n 代码重构\t <code>refactor:</code>   <code>refactor/api-response</code></li>\n<li>拉取最新代码（推荐操作）</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 在功能分支开发时定期同步主分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> checkout feature/new-dashboard</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> pull origin main</pre></td></tr></table></figure><ol start=\"4\">\n<li>使用 Pull Request 流程（团队协作必备）<br>\n在  <code>GitHub</code>  创建  <code>PR</code> <br>\n 添加描述和关联  <code>Issue</code> <br>\n 等待  <code>Code Review</code>  和测试通过<br>\n合并到主分支后删除功能分支</li>\n</ol>\n<p><strong>🎯 流程图解</strong></p>\n<pre><code>+-----------------------------+        +-----------------------------+\n|        GitHub 主分支 (main)      |        |        GitHub 主分支 (main)      |\n+-----------------------------+        +-----------------------------+\n          ↓ (clone/pull)            ↗ (PR合并)          ↓ (clone/pull)\n+-----------------------------+        +-----------------------------+\n| 本地仓库 (main)              |        | 本地仓库 (main)              |\n+-----------------------------+        +-----------------------------+\n          ↓ (checkout -b)         ↗ (merge)          ↓ (checkout -b)\n+-----------------------------+        +-----------------------------+\n| 本地功能分支 (feature/new-dashboard) |      | 本地功能分支 (feature/new-dashboard) |\n+-----------------------------+        +-----------------------------+\n          ↓ (commit)             ↗ (push)          ↓ (commit)\n+-----------------------------+        +-----------------------------+\n| GitHub 功能分支              |        | GitHub 功能分支              |\n+-----------------------------+        +-----------------------------+\n</code></pre>\n<p>关键节点：克隆仓库、创建功能分支、合并到主分支、推送主分支<br>\n推荐路径：主流程（↓ → ↗ → ↓）｜合并路径（↗）<br>\n<strong>⚠️ 常见错误与解决方案</strong></p>\n<ol>\n<li>合并冲突</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 手动解决冲突后标记为已解决</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> conflicted-file.txt</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Resolve merge conflicts\"</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>忘记关联远程分支</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 推送时首次绑定远程分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin feature/new-dashboard</pre></td></tr></table></figure><ol start=\"3\">\n<li>主分支落后于远程</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 合并前必须拉取最新代码</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> pull origin main</pre></td></tr></table></figure><h1 id=\"回滚\"><a class=\"markdownIt-Anchor\" href=\"#回滚\">#</a> 回滚</h1>\n<p>Step 1 查看提交历史</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> log</pre></td></tr></table></figure><p>Step 2 切换到需要回滚的分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout main</pre></td></tr></table></figure><p>Step 3 回滚到指定提交</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> <span class=\"token operator\">&lt;</span>commit-hash<span class=\"token operator\">></span> <span class=\"token comment\"># 也可以 --hard HEAD^   回退上一版本，也可以用 HEAD~1   --hard HEAD^^ 回退上两个版本，也可以用 HEAD~2 表示</span></pre></td></tr></table></figure><p>Step 4 强制推送回滚后的代码到远程仓库</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-f</span> origin main</pre></td></tr></table></figure><h1 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 📝总结</h1>\n<p>核心原则：隔离开发、频繁同步、明确沟通<br>\n推荐工具： <code>GitHub PR</code> 、 <code>GitLab Merge Request</code> <br>\n 进阶学习： <code>Git Flow</code>  工作流、 <code>GitHub Actions</code> <br>\n 文档特点：</p>\n<p>通过加粗 / 列表 / 代码块实现逻辑分层<br>\n使用表格清晰展示规范要求<br>\n流程图解采用 <code>ASCII</code>  字符图形化关键路径<br>\n错误提示突出显示高频问题解决方案<br>\n <code>🔗</code>  相关链接<br>\n <code>Conventional Commits</code>  规范<br>\n <code>Git Flow</code>  工作流<br>\n <code>GitHub Actions</code>  自动化</p>\n<p>➕ <strong>Pull request</strong>  使用 (合并分支)</p>\n<p>Step 1 克隆仓库或更新本地仓库至最新代码</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> pull origin main         <span class=\"token comment\"># 从远程仓库的 main 分支拉取最新的代码</span></pre></td></tr></table></figure><p>Step 2 切换到拉取请求的目标分支（基础分支）</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout main   <span class=\"token comment\"># 切换到主分支（默认的基础分支）</span></pre></td></tr></table></figure><p>Step 3 将功能分支合并到基础分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> merge new-feature <span class=\"token comment\"># 将新功能分支（new-feature）合并到当前主分支</span></pre></td></tr></table></figure><p>Step 4 推送合并后的代码到远程仓库</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin main</pre></td></tr></table></figure><p><strong>补充：</strong><br>\n删除本地分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> new-feature</pre></td></tr></table></figure><p>删除远程分支</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push origin <span class=\"token parameter variable\">--delete</span> new-feature</pre></td></tr></table></figure><p><strong>补充：</strong><br>\n推荐练习 git 网站：<br>\n<a href=\"https://learngitbranching.js.org/?locale=en_US\">https://learngitbranching.js.org/?locale=en_US</a></p>\n",
            "tags": [
                "git"
            ]
        }
    ]
}